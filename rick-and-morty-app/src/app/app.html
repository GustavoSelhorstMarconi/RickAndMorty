<div class="min-h-screen bg-gray-100 p-6">
  <div class="w-full max-w-6xl mx-auto">
    <app-search-episodes
      (episodeSelected)="onEpisodeSelected($event)"
    ></app-search-episodes>

     @if (characters.length > 0) {
      <div class="mt-4 flex justify-end">
        <button
          (click)="toggleSort()"
          class="px-4 py-2 text-black border rounded-md hover:bg-blue-300 transition-colors"
        >
          {{ sortAsc ? 'Sort Descending' : 'Sort Ascending' }}
        </button>
      </div>

      <div class="mt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        @for (char of characters; track char.id) {
          <app-character-card [character]="char"></app-character-card>
        }
      </div>
    }

    @if (characters.length > 0) {
      <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        @for (char of characters; track char.id) {
          <app-character-card [character]="char"></app-character-card>
        }
      </div>
    }

    @if (!loading && characters.length === 0 && lastEpisodeSelected) {
      <div class="mt-8 text-center text-gray-600 text-lg">
        No characters found for this episode.
      </div>
    }

    @if (loading) {
      <div class="mt-8 text-center text-gray-500 text-lg">
        Loading characters...
      </div>
    }
  </div>
</div>
