<div class="w-full">
  <label class="block text-lg font-semibold mb-2">
    Search Episodes
  </label>

  <div class="relative">
    <input
      type="text"
      placeholder="Search by episode name..."
      class="w-full px-4 py-3 border text-base rounded-lg
             focus:border-blue-500 focus:ring-blue-500 outline-none"
      (input)="onSearch($event)"
    />
  </div>

  @if (loading) {
    <div class="mt-2 text-base text-gray-500">
      Searching...
    </div>
  }

  @if (!loading && results.length > 0) {
    <ul class="mt-3 bg-white border rounded-lg shadow divide-y">
      @for (ep of results; track ep.id) {
        <li
          (click)="selectEpisode(ep)"
          class="px-4 py-3 hover:bg-gray-100 cursor-pointer"
        >
          <div class="flex items-center justify-between">
            <div class="font-semibold text-lg">
              {{ ep.name }}
            </div>

            <span
              class="text-sm bg-blue-50 text-blue-700 border border-blue-200
                     px-2 py-1 rounded-md"
            >
              {{ ep.episode }}
            </span>
          </div>

          <div class="mt-1 flex items-center justify-between text-sm text-gray-600">
            <span>{{ ep.air_date }}</span>
          </div>
        </li>
      }
    </ul>
  }

  @if (!loading && searchText.length > 0 && results.length === 0) {
    <div class="mt-2 text-base text-gray-500 italic">
      No episodes found.
    </div>
  }
</div>
